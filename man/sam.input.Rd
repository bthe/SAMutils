% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/setup-utils.R
\name{sam.input}
\alias{sam.input}
\title{Build a SAM Matrix from Long-Format Data}
\usage{
sam.input(
  model_dat,
  variable,
  age_range = as.numeric(1:25),
  year_range = sort(unique(model_dat$year)),
  time_window = NULL,
  tail_f = sum,
  na.fill = -1,
  drop_na = TRUE,
  complete_grid = FALSE
)
}
\arguments{
\item{model_dat}{Input data with \code{year}, \code{age}, and target variable.}

\item{variable}{Name of the variable column to extract.}

\item{age_range}{Numeric age range to keep/collapse to.}

\item{year_range}{Numeric year range for output rownames/order.}

\item{time_window}{Optional SAM \code{time} attribute.}

\item{tail_f}{Aggregation function for duplicate year-age cells.}

\item{na.fill}{Value used to fill missing year-age combinations.}

\item{drop_na}{Whether to drop rows with missing values before aggregation.}

\item{complete_grid}{Whether to force a full year-age grid before aggregation.}
}
\value{
A numeric matrix formatted for SAM input.
}
\description{
Build a SAM Matrix from Long-Format Data
}
\examples{
dat <- tibble::tibble(
  year = c(2000, 2000, 2001, 2001),
  age = c(1, 2, 1, 2),
  M = c(0.2, 0.18, 0.21, 0.19)
)
sam.input(dat, "M", age_range = 1:2, year_range = 2000:2001, tail_f = mean)
}
